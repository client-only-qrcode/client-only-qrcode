var Kt=Object.defineProperty;var $t=(h,o,l)=>o in h?Kt(h,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):h[o]=l;var X=(h,o,l)=>$t(h,typeof o!="symbol"?o+"":o,l);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))u(g);new MutationObserver(g=>{for(const A of g)if(A.type==="childList")for(const E of A.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&u(E)}).observe(document,{childList:!0,subtree:!0});function l(g){const A={};return g.integrity&&(A.integrity=g.integrity),g.referrerPolicy&&(A.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?A.credentials="include":g.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function u(g){if(g.ep)return;g.ep=!0;const A=l(g);fetch(g.href,A)}})();function qt(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Ke={exports:{}},Lt;function jt(){return Lt||(Lt=1,function(h){function o(t){this.mode=u.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var n=0,a=this.data.length;n<a;n++){var r=[],i=this.data.charCodeAt(n);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}o.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var n=0,a=this.parsedData.length;n<a;n++)t.put(this.parsedData[n],8)}};function l(t,n){this.typeNumber=t,this.errorCorrectLevel=n,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}l.prototype={addData:function(t){var n=new o(t);this.dataList.push(n),this.dataCache=null},isDark:function(t,n){if(t<0||this.moduleCount<=t||n<0||this.moduleCount<=n)throw new Error(t+","+n);return this.modules[t][n]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[a][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,n){for(var a=-1;a<=7;a++)if(!(t+a<=-1||this.moduleCount<=t+a))for(var r=-1;r<=7;r++)n+r<=-1||this.moduleCount<=n+r||(0<=a&&a<=6&&(r==0||r==6)||0<=r&&r<=6&&(a==0||a==6)||2<=a&&a<=4&&2<=r&&r<=4?this.modules[t+a][n+r]=!0:this.modules[t+a][n+r]=!1)},getBestMaskPattern:function(){for(var t=0,n=0,a=0;a<8;a++){this.makeImpl(!0,a);var r=E.getLostPoint(this);(a==0||t>r)&&(t=r,n=a)}return n},createMovieClip:function(t,n,a){var r=t.createEmptyMovieClip(n,a),i=1;this.make();for(var c=0;c<this.modules.length;c++)for(var d=c*i,f=0;f<this.modules[c].length;f++){var T=f*i,L=this.modules[c][f];L&&(r.beginFill(0,100),r.moveTo(T,d),r.lineTo(T+i,d),r.lineTo(T+i,d+i),r.lineTo(T,d+i),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var n=8;n<this.moduleCount-8;n++)this.modules[6][n]==null&&(this.modules[6][n]=n%2==0)},setupPositionAdjustPattern:function(){for(var t=E.getPatternPosition(this.typeNumber),n=0;n<t.length;n++)for(var a=0;a<t.length;a++){var r=t[n],i=t[a];if(this.modules[r][i]==null)for(var c=-2;c<=2;c++)for(var d=-2;d<=2;d++)c==-2||c==2||d==-2||d==2||c==0&&d==0?this.modules[r+c][i+d]=!0:this.modules[r+c][i+d]=!1}},setupTypeNumber:function(t){for(var n=E.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var r=!t&&(n>>a&1)==1;this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=r}for(var a=0;a<18;a++){var r=!t&&(n>>a&1)==1;this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=r}},setupTypeInfo:function(t,n){for(var a=this.errorCorrectLevel<<3|n,r=E.getBCHTypeInfo(a),i=0;i<15;i++){var c=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=c:i<8?this.modules[i+1][8]=c:this.modules[this.moduleCount-15+i][8]=c}for(var i=0;i<15;i++){var c=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=c:i<9?this.modules[8][15-i-1+1]=c:this.modules[8][15-i-1]=c}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,n){for(var a=-1,r=this.moduleCount-1,i=7,c=0,d=this.moduleCount-1;d>0;d-=2)for(d==6&&d--;;){for(var f=0;f<2;f++)if(this.modules[r][d-f]==null){var T=!1;c<t.length&&(T=(t[c]>>>i&1)==1);var L=E.getMask(n,r,d-f);L&&(T=!T),this.modules[r][d-f]=T,i--,i==-1&&(c++,i=7)}if(r+=a,r<0||this.moduleCount<=r){r-=a,a=-a;break}}}},l.PAD0=236,l.PAD1=17,l.createData=function(t,n,a){for(var r=G.getRSBlocks(t,n),i=new Le,c=0;c<a.length;c++){var d=a[c];i.put(d.mode,4),i.put(d.getLength(),E.getLengthInBits(d.mode,t)),d.write(i)}for(var f=0,c=0;c<r.length;c++)f+=r[c].dataCount;if(i.getLengthInBits()>f*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+f*8+")");for(i.getLengthInBits()+4<=f*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=f*8||(i.put(l.PAD0,8),i.getLengthInBits()>=f*8));)i.put(l.PAD1,8);return l.createBytes(i,r)},l.createBytes=function(t,n){for(var a=0,r=0,i=0,c=new Array(n.length),d=new Array(n.length),f=0;f<n.length;f++){var T=n[f].dataCount,L=n[f].totalCount-T;r=Math.max(r,T),i=Math.max(i,L),c[f]=new Array(T);for(var _=0;_<c[f].length;_++)c[f][_]=255&t.buffer[_+a];a+=T;var B=E.getErrorCorrectPolynomial(L),W=new z(c[f],B.getLength()-1),C=W.mod(B);d[f]=new Array(B.getLength()-1);for(var _=0;_<d[f].length;_++){var K=_+C.getLength()-d[f].length;d[f][_]=K>=0?C.get(K):0}}for(var N=0,_=0;_<n.length;_++)N+=n[_].totalCount;for(var Q=new Array(N),Y=0,_=0;_<r;_++)for(var f=0;f<n.length;f++)_<c[f].length&&(Q[Y++]=c[f][_]);for(var _=0;_<i;_++)for(var f=0;f<n.length;f++)_<d[f].length&&(Q[Y++]=d[f][_]);return Q};for(var u={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},g={L:1,M:0,Q:3,H:2},A={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},E={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var n=t<<10;E.getBCHDigit(n)-E.getBCHDigit(E.G15)>=0;)n^=E.G15<<E.getBCHDigit(n)-E.getBCHDigit(E.G15);return(t<<10|n)^E.G15_MASK},getBCHTypeNumber:function(t){for(var n=t<<12;E.getBCHDigit(n)-E.getBCHDigit(E.G18)>=0;)n^=E.G18<<E.getBCHDigit(n)-E.getBCHDigit(E.G18);return t<<12|n},getBCHDigit:function(t){for(var n=0;t!=0;)n++,t>>>=1;return n},getPatternPosition:function(t){return E.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,n,a){switch(t){case A.PATTERN000:return(n+a)%2==0;case A.PATTERN001:return n%2==0;case A.PATTERN010:return a%3==0;case A.PATTERN011:return(n+a)%3==0;case A.PATTERN100:return(Math.floor(n/2)+Math.floor(a/3))%2==0;case A.PATTERN101:return n*a%2+n*a%3==0;case A.PATTERN110:return(n*a%2+n*a%3)%2==0;case A.PATTERN111:return(n*a%3+(n+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var n=new z([1],0),a=0;a<t;a++)n=n.multiply(new z([1,y.gexp(a)],0));return n},getLengthInBits:function(t,n){if(1<=n&&n<10)switch(t){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:return 8;case u.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(n<27)switch(t){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(n<41)switch(t){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+n)},getLostPoint:function(t){for(var n=t.getModuleCount(),a=0,r=0;r<n;r++)for(var i=0;i<n;i++){for(var c=0,d=t.isDark(r,i),f=-1;f<=1;f++)if(!(r+f<0||n<=r+f))for(var T=-1;T<=1;T++)i+T<0||n<=i+T||f==0&&T==0||d==t.isDark(r+f,i+T)&&c++;c>5&&(a+=3+c-5)}for(var r=0;r<n-1;r++)for(var i=0;i<n-1;i++){var L=0;t.isDark(r,i)&&L++,t.isDark(r+1,i)&&L++,t.isDark(r,i+1)&&L++,t.isDark(r+1,i+1)&&L++,(L==0||L==4)&&(a+=3)}for(var r=0;r<n;r++)for(var i=0;i<n-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(a+=40);for(var i=0;i<n;i++)for(var r=0;r<n-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(a+=40);for(var _=0,i=0;i<n;i++)for(var r=0;r<n;r++)t.isDark(r,i)&&_++;var B=Math.abs(100*_/n/n-50)/5;return a+=B*10,a}},y={glog:function(t){if(t<1)throw new Error("glog("+t+")");return y.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return y.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)y.EXP_TABLE[b]=1<<b;for(var b=8;b<256;b++)y.EXP_TABLE[b]=y.EXP_TABLE[b-4]^y.EXP_TABLE[b-5]^y.EXP_TABLE[b-6]^y.EXP_TABLE[b-8];for(var b=0;b<255;b++)y.LOG_TABLE[y.EXP_TABLE[b]]=b;function z(t,n){if(t.length==null)throw new Error(t.length+"/"+n);for(var a=0;a<t.length&&t[a]==0;)a++;this.num=new Array(t.length-a+n);for(var r=0;r<t.length-a;r++)this.num[r]=t[r+a]}z.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var n=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var r=0;r<t.getLength();r++)n[a+r]^=y.gexp(y.glog(this.get(a))+y.glog(t.get(r)));return new z(n,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var n=y.glog(this.get(0))-y.glog(t.get(0)),a=new Array(this.getLength()),r=0;r<this.getLength();r++)a[r]=this.get(r);for(var r=0;r<t.getLength();r++)a[r]^=y.gexp(y.glog(t.get(r))+n);return new z(a,0).mod(t)}};function G(t,n){this.totalCount=t,this.dataCount=n}G.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],G.getRSBlocks=function(t,n){var a=G.getRsBlockTable(t,n);if(a==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var r=a.length/3,i=[],c=0;c<r;c++)for(var d=a[c*3+0],f=a[c*3+1],T=a[c*3+2],L=0;L<d;L++)i.push(new G(f,T));return i},G.getRsBlockTable=function(t,n){switch(n){case g.L:return G.RS_BLOCK_TABLE[(t-1)*4+0];case g.M:return G.RS_BLOCK_TABLE[(t-1)*4+1];case g.Q:return G.RS_BLOCK_TABLE[(t-1)*4+2];case g.H:return G.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Le(){this.buffer=[],this.length=0}Le.prototype={get:function(t){var n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)==1},put:function(t,n){for(var a=0;a<n;a++)this.putBit((t>>>n-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var de=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function te(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},typeof t=="string"&&(t={content:t}),t)for(var n in t)this.options[n]=t[n];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function a(T){switch(T){case"L":return g.L;case"M":return g.M;case"Q":return g.Q;case"H":return g.H;default:throw new Error("Unknwon error correction level: "+T)}}function r(T,L){for(var _=i(T),B=1,W=0,C=0,K=de.length;C<=K;C++){var N=de[C];if(!N)throw new Error("Content too long: expected "+W+" but got "+_);switch(L){case"L":W=N[0];break;case"M":W=N[1];break;case"Q":W=N[2];break;case"H":W=N[3];break;default:throw new Error("Unknwon error correction level: "+L)}if(_<=W)break;B++}if(B>de.length)throw new Error("Content too long");return B}function i(T){var L=encodeURI(T).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return L.length+(L.length!=T?3:0)}var c=this.options.content,d=r(c,this.options.ecl),f=a(this.options.ecl);this.qrcode=new l(d,f),this.qrcode.addData(c),this.qrcode.make()}te.prototype.svg=function(t){var n=this.options||{},a=this.qrcode.modules;typeof t>"u"&&(t={container:n.container||"svg"});for(var r=typeof n.pretty<"u"?!!n.pretty:!0,i=r?"  ":"",c=r?`\r
`:"",d=n.width,f=n.height,T=a.length,L=d/(T+2*n.padding),_=f/(T+2*n.padding),B=typeof n.join<"u"?!!n.join:!1,W=typeof n.swap<"u"?!!n.swap:!1,C=typeof n.xmlDeclaration<"u"?!!n.xmlDeclaration:!0,K=typeof n.predefined<"u"?!!n.predefined:!1,N=K?i+'<defs><path id="qrmodule" d="M0 0 h'+_+" v"+L+' H0 z" style="fill:'+n.color+';shape-rendering:crispEdges;" /></defs>'+c:"",Q=i+'<rect x="0" y="0" width="'+d+'" height="'+f+'" style="fill:'+n.background+';shape-rendering:crispEdges;"/>'+c,Y="",Re="",ie=0;ie<T;ie++)for(var re=0;re<T;re++){var ke=a[re][ie];if(ke){var U=re*L+n.padding*L,R=ie*_+n.padding*_;if(W){var Ce=U;U=R,R=Ce}if(B){var S=L+U,ne=_+R;U=Number.isInteger(U)?Number(U):U.toFixed(2),R=Number.isInteger(R)?Number(R):R.toFixed(2),S=Number.isInteger(S)?Number(S):S.toFixed(2),ne=Number.isInteger(ne)?Number(ne):ne.toFixed(2),Re+="M"+U+","+R+" V"+ne+" H"+S+" V"+R+" H"+U+" Z "}else K?Y+=i+'<use x="'+U.toString()+'" y="'+R.toString()+'" href="#qrmodule" />'+c:Y+=i+'<rect x="'+U.toString()+'" y="'+R.toString()+'" width="'+L+'" height="'+_+'" style="fill:'+n.color+';shape-rendering:crispEdges;"/>'+c}}B&&(Y=i+'<path x="0" y="0" style="fill:'+n.color+';shape-rendering:crispEdges;" d="'+Re+'" />');var w="";switch(t.container){case"svg":C&&(w+='<?xml version="1.0" standalone="yes"?>'+c),w+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+d+'" height="'+f+'">'+c,w+=N+Q+Y,w+="</svg>";break;case"svg-viewbox":C&&(w+='<?xml version="1.0" standalone="yes"?>'+c),w+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+d+" "+f+'">'+c,w+=N+Q+Y,w+="</svg>";break;case"g":w+='<g width="'+d+'" height="'+f+'">'+c,w+=N+Q+Y,w+="</g>";break;default:w+=(N+Q+Y).replace(/^\s+/,"");break}return w},te.prototype.save=function(t,n){var a=this.svg();typeof n!="function"&&(n=function(i,c){});try{var r=require("fs");r.writeFile(t,a,n)}catch(i){n(i)}},h.exports=te}(Ke)),Ke.exports}var Zt=jt();const Jt=qt(Zt);class en{async generateSVG(o){try{return new Jt({content:o,container:"svg-viewbox",join:!0}).svg()}catch(l){throw new Error(`Failed to generate QR code: ${l instanceof Error?l.message:"Unknown error"}`)}}}class Pt{static sanitize(o,l){const u={...this.DEFAULT_OPTIONS,...l};let g=o.replace(u.allowedCharacters,"_");g=g.substring(0,u.maxLength);const A=/^_*$/.test(g);return!g||A?u.defaultName:g}static generateQRCodeFilename(o){return`qr_code_${this.sanitize(o)}.svg`}}X(Pt,"DEFAULT_OPTIONS",{maxLength:50,defaultName:"download",allowedCharacters:/[^a-zA-Z0-9.-]/g});/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:xt,setPrototypeOf:Rt,isFrozen:tn,getPrototypeOf:nn,getOwnPropertyDescriptor:rn}=Object;let{freeze:k,seal:V,create:kt}=Object,{apply:et,construct:tt}=typeof Reflect<"u"&&Reflect;k||(k=function(o){return o});V||(V=function(o){return o});et||(et=function(o,l,u){return o.apply(l,u)});tt||(tt=function(o,l){return new o(...l)});const Ie=H(Array.prototype.forEach),on=H(Array.prototype.lastIndexOf),Ct=H(Array.prototype.pop),Te=H(Array.prototype.push),an=H(Array.prototype.splice),xe=H(String.prototype.toLowerCase),$e=H(String.prototype.toString),Dt=H(String.prototype.match),_e=H(String.prototype.replace),sn=H(String.prototype.indexOf),ln=H(String.prototype.trim),$=H(Object.prototype.hasOwnProperty),x=H(RegExp.prototype.test),ve=un(TypeError);function H(h){return function(o){o instanceof RegExp&&(o.lastIndex=0);for(var l=arguments.length,u=new Array(l>1?l-1:0),g=1;g<l;g++)u[g-1]=arguments[g];return et(h,o,u)}}function un(h){return function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return tt(h,l)}}function v(h,o){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe;Rt&&Rt(h,null);let u=o.length;for(;u--;){let g=o[u];if(typeof g=="string"){const A=l(g);A!==g&&(tn(o)||(o[u]=A),g=A)}h[g]=!0}return h}function cn(h){for(let o=0;o<h.length;o++)$(h,o)||(h[o]=null);return h}function ee(h){const o=kt(null);for(const[l,u]of xt(h))$(h,l)&&(Array.isArray(u)?o[l]=cn(u):u&&typeof u=="object"&&u.constructor===Object?o[l]=ee(u):o[l]=u);return o}function Ae(h,o){for(;h!==null;){const u=rn(h,o);if(u){if(u.get)return H(u.get);if(typeof u.value=="function")return H(u.value)}h=nn(h)}function l(){return null}return l}const St=k(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qe=k(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),je=k(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fn=k(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ze=k(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hn=k(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yt=k(["#text"]),bt=k(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Je=k(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mt=k(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pe=k(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dn=V(/\{\{[\w\W]*|[\w\W]*\}\}/gm),mn=V(/<%[\w\W]*|[\w\W]*%>/gm),pn=V(/\$\{[\w\W]*/gm),gn=V(/^data-[\-\w.\u00B7-\uFFFF]+$/),En=V(/^aria-[\-\w]+$/),Ht=V(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Tn=V(/^(?:\w+script|data):/i),_n=V(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bt=V(/^html$/i),vn=V(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ot=Object.freeze({__proto__:null,ARIA_ATTR:En,ATTR_WHITESPACE:_n,CUSTOM_ELEMENT:vn,DATA_ATTR:gn,DOCTYPE_NAME:Bt,ERB_EXPR:mn,IS_ALLOWED_URI:Ht,IS_SCRIPT_OR_DATA:Tn,MUSTACHE_EXPR:dn,TMPLIT_EXPR:pn});const we={element:1,text:3,progressingInstruction:7,comment:8,document:9},An=function(){return typeof window>"u"?null:window},wn=function(o,l){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let u=null;const g="data-tt-policy-suffix";l&&l.hasAttribute(g)&&(u=l.getAttribute(g));const A="dompurify"+(u?"#"+u:"");try{return o.createPolicy(A,{createHTML(E){return E},createScriptURL(E){return E}})}catch{return console.warn("TrustedTypes policy "+A+" could not be created."),null}},Nt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ut(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:An();const o=p=>Ut(p);if(o.version="3.2.6",o.removed=[],!h||!h.document||h.document.nodeType!==we.document||!h.Element)return o.isSupported=!1,o;let{document:l}=h;const u=l,g=u.currentScript,{DocumentFragment:A,HTMLTemplateElement:E,Node:y,Element:b,NodeFilter:z,NamedNodeMap:G=h.NamedNodeMap||h.MozNamedAttrMap,HTMLFormElement:Le,DOMParser:de,trustedTypes:te}=h,t=b.prototype,n=Ae(t,"cloneNode"),a=Ae(t,"remove"),r=Ae(t,"nextSibling"),i=Ae(t,"childNodes"),c=Ae(t,"parentNode");if(typeof E=="function"){const p=l.createElement("template");p.content&&p.content.ownerDocument&&(l=p.content.ownerDocument)}let d,f="";const{implementation:T,createNodeIterator:L,createDocumentFragment:_,getElementsByTagName:B}=l,{importNode:W}=u;let C=Nt();o.isSupported=typeof xt=="function"&&typeof c=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:K,ERB_EXPR:N,TMPLIT_EXPR:Q,DATA_ATTR:Y,ARIA_ATTR:Re,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:re,CUSTOM_ELEMENT:ke}=Ot;let{IS_ALLOWED_URI:U}=Ot,R=null;const Ce=v({},[...St,...qe,...je,...Ze,...yt]);let S=null;const ne=v({},[...bt,...Je,...Mt,...Pe]);let w=Object.seal(kt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),me=null,He=null,nt=!0,Be=!0,rt=!1,ot=!0,ae=!1,De=!0,oe=!1,Ue=!1,Fe=!1,se=!1,Se=!1,ye=!1,it=!0,at=!1;const Ft="user-content-";let ze=!0,pe=!1,le={},ue=null;const st=v({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lt=null;const ut=v({},["audio","video","img","source","image","track"]);let Ge=null;const ct=v({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",Me="http://www.w3.org/2000/svg",j="http://www.w3.org/1999/xhtml";let ce=j,We=!1,Qe=null;const zt=v({},[be,Me,j],$e);let Oe=v({},["mi","mo","mn","ms","mtext"]),Ne=v({},["annotation-xml"]);const Gt=v({},["title","style","font","a","script"]);let ge=null;const Wt=["application/xhtml+xml","text/html"],Qt="text/html";let O=null,fe=null;const Yt=l.createElement("form"),ft=function(e){return e instanceof RegExp||e instanceof Function},Ye=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(fe&&fe===e)){if((!e||typeof e!="object")&&(e={}),e=ee(e),ge=Wt.indexOf(e.PARSER_MEDIA_TYPE)===-1?Qt:e.PARSER_MEDIA_TYPE,O=ge==="application/xhtml+xml"?$e:xe,R=$(e,"ALLOWED_TAGS")?v({},e.ALLOWED_TAGS,O):Ce,S=$(e,"ALLOWED_ATTR")?v({},e.ALLOWED_ATTR,O):ne,Qe=$(e,"ALLOWED_NAMESPACES")?v({},e.ALLOWED_NAMESPACES,$e):zt,Ge=$(e,"ADD_URI_SAFE_ATTR")?v(ee(ct),e.ADD_URI_SAFE_ATTR,O):ct,lt=$(e,"ADD_DATA_URI_TAGS")?v(ee(ut),e.ADD_DATA_URI_TAGS,O):ut,ue=$(e,"FORBID_CONTENTS")?v({},e.FORBID_CONTENTS,O):st,me=$(e,"FORBID_TAGS")?v({},e.FORBID_TAGS,O):ee({}),He=$(e,"FORBID_ATTR")?v({},e.FORBID_ATTR,O):ee({}),le=$(e,"USE_PROFILES")?e.USE_PROFILES:!1,nt=e.ALLOW_ARIA_ATTR!==!1,Be=e.ALLOW_DATA_ATTR!==!1,rt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ot=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ae=e.SAFE_FOR_TEMPLATES||!1,De=e.SAFE_FOR_XML!==!1,oe=e.WHOLE_DOCUMENT||!1,se=e.RETURN_DOM||!1,Se=e.RETURN_DOM_FRAGMENT||!1,ye=e.RETURN_TRUSTED_TYPE||!1,Fe=e.FORCE_BODY||!1,it=e.SANITIZE_DOM!==!1,at=e.SANITIZE_NAMED_PROPS||!1,ze=e.KEEP_CONTENT!==!1,pe=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||Ht,ce=e.NAMESPACE||j,Oe=e.MATHML_TEXT_INTEGRATION_POINTS||Oe,Ne=e.HTML_INTEGRATION_POINTS||Ne,w=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(w.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(w.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(w.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ae&&(Be=!1),Se&&(se=!0),le&&(R=v({},yt),S=[],le.html===!0&&(v(R,St),v(S,bt)),le.svg===!0&&(v(R,qe),v(S,Je),v(S,Pe)),le.svgFilters===!0&&(v(R,je),v(S,Je),v(S,Pe)),le.mathMl===!0&&(v(R,Ze),v(S,Mt),v(S,Pe))),e.ADD_TAGS&&(R===Ce&&(R=ee(R)),v(R,e.ADD_TAGS,O)),e.ADD_ATTR&&(S===ne&&(S=ee(S)),v(S,e.ADD_ATTR,O)),e.ADD_URI_SAFE_ATTR&&v(Ge,e.ADD_URI_SAFE_ATTR,O),e.FORBID_CONTENTS&&(ue===st&&(ue=ee(ue)),v(ue,e.FORBID_CONTENTS,O)),ze&&(R["#text"]=!0),oe&&v(R,["html","head","body"]),R.table&&(v(R,["tbody"]),delete me.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');d=e.TRUSTED_TYPES_POLICY,f=d.createHTML("")}else d===void 0&&(d=wn(te,g)),d!==null&&typeof f=="string"&&(f=d.createHTML(""));k&&k(e),fe=e}},ht=v({},[...qe,...je,...fn]),dt=v({},[...Ze,...hn]),Xt=function(e){let s=c(e);(!s||!s.tagName)&&(s={namespaceURI:ce,tagName:"template"});const m=xe(e.tagName),D=xe(s.tagName);return Qe[e.namespaceURI]?e.namespaceURI===Me?s.namespaceURI===j?m==="svg":s.namespaceURI===be?m==="svg"&&(D==="annotation-xml"||Oe[D]):!!ht[m]:e.namespaceURI===be?s.namespaceURI===j?m==="math":s.namespaceURI===Me?m==="math"&&Ne[D]:!!dt[m]:e.namespaceURI===j?s.namespaceURI===Me&&!Ne[D]||s.namespaceURI===be&&!Oe[D]?!1:!dt[m]&&(Gt[m]||!ht[m]):!!(ge==="application/xhtml+xml"&&Qe[e.namespaceURI]):!1},q=function(e){Te(o.removed,{element:e});try{c(e).removeChild(e)}catch{a(e)}},he=function(e,s){try{Te(o.removed,{attribute:s.getAttributeNode(e),from:s})}catch{Te(o.removed,{attribute:null,from:s})}if(s.removeAttribute(e),e==="is")if(se||Se)try{q(s)}catch{}else try{s.setAttribute(e,"")}catch{}},mt=function(e){let s=null,m=null;if(Fe)e="<remove></remove>"+e;else{const M=Dt(e,/^[\r\n\t ]+/);m=M&&M[0]}ge==="application/xhtml+xml"&&ce===j&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const D=d?d.createHTML(e):e;if(ce===j)try{s=new de().parseFromString(D,ge)}catch{}if(!s||!s.documentElement){s=T.createDocument(ce,"template",null);try{s.documentElement.innerHTML=We?f:D}catch{}}const I=s.body||s.documentElement;return e&&m&&I.insertBefore(l.createTextNode(m),I.childNodes[0]||null),ce===j?B.call(s,oe?"html":"body")[0]:oe?s.documentElement:I},pt=function(e){return L.call(e.ownerDocument||e,e,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT|z.SHOW_PROCESSING_INSTRUCTION|z.SHOW_CDATA_SECTION,null)},Xe=function(e){return e instanceof Le&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof G)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},gt=function(e){return typeof y=="function"&&e instanceof y};function Z(p,e,s){Ie(p,m=>{m.call(o,e,s,fe)})}const Et=function(e){let s=null;if(Z(C.beforeSanitizeElements,e,null),Xe(e))return q(e),!0;const m=O(e.nodeName);if(Z(C.uponSanitizeElement,e,{tagName:m,allowedTags:R}),De&&e.hasChildNodes()&&!gt(e.firstElementChild)&&x(/<[/\w!]/g,e.innerHTML)&&x(/<[/\w!]/g,e.textContent)||e.nodeType===we.progressingInstruction||De&&e.nodeType===we.comment&&x(/<[/\w]/g,e.data))return q(e),!0;if(!R[m]||me[m]){if(!me[m]&&_t(m)&&(w.tagNameCheck instanceof RegExp&&x(w.tagNameCheck,m)||w.tagNameCheck instanceof Function&&w.tagNameCheck(m)))return!1;if(ze&&!ue[m]){const D=c(e)||e.parentNode,I=i(e)||e.childNodes;if(I&&D){const M=I.length;for(let F=M-1;F>=0;--F){const J=n(I[F],!0);J.__removalCount=(e.__removalCount||0)+1,D.insertBefore(J,r(e))}}}return q(e),!0}return e instanceof b&&!Xt(e)||(m==="noscript"||m==="noembed"||m==="noframes")&&x(/<\/no(script|embed|frames)/i,e.innerHTML)?(q(e),!0):(ae&&e.nodeType===we.text&&(s=e.textContent,Ie([K,N,Q],D=>{s=_e(s,D," ")}),e.textContent!==s&&(Te(o.removed,{element:e.cloneNode()}),e.textContent=s)),Z(C.afterSanitizeElements,e,null),!1)},Tt=function(e,s,m){if(it&&(s==="id"||s==="name")&&(m in l||m in Yt))return!1;if(!(Be&&!He[s]&&x(Y,s))){if(!(nt&&x(Re,s))){if(!S[s]||He[s]){if(!(_t(e)&&(w.tagNameCheck instanceof RegExp&&x(w.tagNameCheck,e)||w.tagNameCheck instanceof Function&&w.tagNameCheck(e))&&(w.attributeNameCheck instanceof RegExp&&x(w.attributeNameCheck,s)||w.attributeNameCheck instanceof Function&&w.attributeNameCheck(s))||s==="is"&&w.allowCustomizedBuiltInElements&&(w.tagNameCheck instanceof RegExp&&x(w.tagNameCheck,m)||w.tagNameCheck instanceof Function&&w.tagNameCheck(m))))return!1}else if(!Ge[s]){if(!x(U,_e(m,re,""))){if(!((s==="src"||s==="xlink:href"||s==="href")&&e!=="script"&&sn(m,"data:")===0&&lt[e])){if(!(rt&&!x(ie,_e(m,re,"")))){if(m)return!1}}}}}}return!0},_t=function(e){return e!=="annotation-xml"&&Dt(e,ke)},vt=function(e){Z(C.beforeSanitizeAttributes,e,null);const{attributes:s}=e;if(!s||Xe(e))return;const m={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S,forceKeepAttr:void 0};let D=s.length;for(;D--;){const I=s[D],{name:M,namespaceURI:F,value:J}=I,Ee=O(M),Ve=J;let P=M==="value"?Ve:ln(Ve);if(m.attrName=Ee,m.attrValue=P,m.keepAttr=!0,m.forceKeepAttr=void 0,Z(C.uponSanitizeAttribute,e,m),P=m.attrValue,at&&(Ee==="id"||Ee==="name")&&(he(M,e),P=Ft+P),De&&x(/((--!?|])>)|<\/(style|title)/i,P)){he(M,e);continue}if(m.forceKeepAttr)continue;if(!m.keepAttr){he(M,e);continue}if(!ot&&x(/\/>/i,P)){he(M,e);continue}ae&&Ie([K,N,Q],wt=>{P=_e(P,wt," ")});const At=O(e.nodeName);if(!Tt(At,Ee,P)){he(M,e);continue}if(d&&typeof te=="object"&&typeof te.getAttributeType=="function"&&!F)switch(te.getAttributeType(At,Ee)){case"TrustedHTML":{P=d.createHTML(P);break}case"TrustedScriptURL":{P=d.createScriptURL(P);break}}if(P!==Ve)try{F?e.setAttributeNS(F,M,P):e.setAttribute(M,P),Xe(e)?q(e):Ct(o.removed)}catch{he(M,e)}}Z(C.afterSanitizeAttributes,e,null)},Vt=function p(e){let s=null;const m=pt(e);for(Z(C.beforeSanitizeShadowDOM,e,null);s=m.nextNode();)Z(C.uponSanitizeShadowNode,s,null),Et(s),vt(s),s.content instanceof A&&p(s.content);Z(C.afterSanitizeShadowDOM,e,null)};return o.sanitize=function(p){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=null,m=null,D=null,I=null;if(We=!p,We&&(p="<!-->"),typeof p!="string"&&!gt(p))if(typeof p.toString=="function"){if(p=p.toString(),typeof p!="string")throw ve("dirty is not a string, aborting")}else throw ve("toString is not a function");if(!o.isSupported)return p;if(Ue||Ye(e),o.removed=[],typeof p=="string"&&(pe=!1),pe){if(p.nodeName){const J=O(p.nodeName);if(!R[J]||me[J])throw ve("root node is forbidden and cannot be sanitized in-place")}}else if(p instanceof y)s=mt("<!---->"),m=s.ownerDocument.importNode(p,!0),m.nodeType===we.element&&m.nodeName==="BODY"||m.nodeName==="HTML"?s=m:s.appendChild(m);else{if(!se&&!ae&&!oe&&p.indexOf("<")===-1)return d&&ye?d.createHTML(p):p;if(s=mt(p),!s)return se?null:ye?f:""}s&&Fe&&q(s.firstChild);const M=pt(pe?p:s);for(;D=M.nextNode();)Et(D),vt(D),D.content instanceof A&&Vt(D.content);if(pe)return p;if(se){if(Se)for(I=_.call(s.ownerDocument);s.firstChild;)I.appendChild(s.firstChild);else I=s;return(S.shadowroot||S.shadowrootmode)&&(I=W.call(u,I,!0)),I}let F=oe?s.outerHTML:s.innerHTML;return oe&&R["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&x(Bt,s.ownerDocument.doctype.name)&&(F="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+F),ae&&Ie([K,N,Q],J=>{F=_e(F,J," ")}),d&&ye?d.createHTML(F):F},o.setConfig=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ye(p),Ue=!0},o.clearConfig=function(){fe=null,Ue=!1},o.isValidAttribute=function(p,e,s){fe||Ye({});const m=O(p),D=O(e);return Tt(m,D,s)},o.addHook=function(p,e){typeof e=="function"&&Te(C[p],e)},o.removeHook=function(p,e){if(e!==void 0){const s=on(C[p],e);return s===-1?void 0:an(C[p],s,1)[0]}return Ct(C[p])},o.removeHooks=function(p){C[p]=[]},o.removeAllHooks=function(){C=Nt()},o}var Ln=Ut();function Rn(h){return Ln.sanitize(h,{FORBID_ATTR:["style"]})}class Cn{constructor(o){X(this,"elements");X(this,"qrGenerator");X(this,"urlHashManager");X(this,"fileDownloader");X(this,"currentSVGContent",null);X(this,"abortController",null);this.qrGenerator=o.qrGenerator,this.urlHashManager=o.urlHashManager,this.fileDownloader=o.fileDownloader;const l=document.querySelector(o.containerSelector),u=document.querySelector(o.inputSelector);if(!l||!u)throw new Error("Required DOM elements not found");this.elements={container:l,input:u}}async initialize(){try{this.initializeHash(),this.elements.input.value=this.getCurrentText(),await this.updateQRCode(),this.setupEventListeners()}catch(o){this.handleError(o)}}initializeHash(){if(!this.urlHashManager.getHash()){const l=this.urlHashManager.getBaseURL();this.urlHashManager.setHash(l)}}getCurrentText(){return this.urlHashManager.getHash()||this.urlHashManager.getBaseURL()}setupEventListeners(){this.abortController&&this.abortController.abort(),this.abortController=new AbortController;const{signal:o}=this.abortController;this.elements.input.addEventListener("input",this.handleInputChange.bind(this),{signal:o}),window.addEventListener("hashchange",this.handleHashChange.bind(this),{signal:o})}async handleInputChange(o){const u=o.target.value.trim();try{u===""?this.urlHashManager.removeHash():this.urlHashManager.setHash(u),await this.updateQRCode()}catch(g){this.handleError(g)}}async handleHashChange(){try{this.elements.input.value=this.getCurrentText(),await this.updateQRCode()}catch(o){this.handleError(o)}}async updateQRCode(){const o=this.getCurrentText();try{const l=await this.qrGenerator.generateSVG(o);this.currentSVGContent=Rn(l),this.renderQRCode()}catch(l){throw new Error(`Failed to generate QR code: ${l instanceof Error?l.message:"Unknown error"}`)}}renderQRCode(){if(!this.currentSVGContent)return;this.elements.container.innerHTML="";const u=new DOMParser().parseFromString(this.currentSVGContent,"image/svg+xml").documentElement;this.elements.container.appendChild(u),this.attachDownloadHandler(u)}attachDownloadHandler(o){var l;o.setAttribute("title","Click to download"),o.addEventListener("click",this.handleDownload.bind(this),{signal:(l=this.abortController)==null?void 0:l.signal})}handleDownload(){if(!this.currentSVGContent)return;const o=this.getCurrentText(),l=Pt.generateQRCodeFilename(o);this.fileDownloader.download({filename:l,content:this.currentSVGContent,mimeType:"image/svg+xml"})}handleError(o){console.error("QR Code Controller Error:",o);const l=o instanceof Error?o.message:"An unknown error occurred";this.elements.container.innerHTML="";const u=document.createElement("div"),g=document.createTextNode(`Error: ${l}. Please refresh the page and try again.`);u.appendChild(g),this.elements.container.appendChild(u)}destroy(){this.abortController&&(this.abortController.abort(),this.abortController=null)}}class Dn{constructor(o=globalThis.window,l=globalThis.history){X(this,"window");X(this,"history");this.window=o,this.history=l}getHash(){const o=this.window.location.hash;return o?decodeURIComponent(o.slice(1)):""}setHash(o){o?this.window.location.hash=encodeURIComponent(o):this.removeHash()}removeHash(){const{pathname:o,search:l}=this.window.location;this.history.pushState("",document.title,o+l)}getCurrentURL(){return this.window.location.href}getBaseURL(){return this.getCurrentURL().split("#")[0]}}class Sn{constructor(o=globalThis.document,l=globalThis.URL){X(this,"document");X(this,"urlConstructor");this.document=o,this.urlConstructor=l}download({filename:o,content:l,mimeType:u}){const g=new Blob([l],{type:u}),A=this.urlConstructor.createObjectURL(g),E=this.document.createElement("a");E.href=A,E.download=o,E.style.display="none",this.document.body.appendChild(E),E.click(),this.document.body.removeChild(E),this.urlConstructor.revokeObjectURL(A)}}async function It(){try{const h=new en,o=new Dn,l=new Sn,u=new Cn({containerSelector:"#qr-code",inputSelector:"#input-text",qrGenerator:h,urlHashManager:o,fileDownloader:l});await u.initialize(),window.addEventListener("beforeunload",()=>{u.destroy()})}catch(h){console.error("Failed to initialize QR Code application:",h);const o=document.querySelector("#qr-code");o&&(o.innerHTML=`
        <div style="color: red; padding: 20px; text-align: center;">
          <p>Failed to initialize the application.</p>
          <p>Please refresh the page and try again.</p>
        </div>
      `)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",It):It();
