var $t=Object.defineProperty;var qt=(f,i,l)=>i in f?$t(f,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):f[i]=l;var q=(f,i,l)=>qt(f,typeof i!="symbol"?i+"":i,l);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))u(g);new MutationObserver(g=>{for(const L of g)if(L.type==="childList")for(const T of L.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&u(T)}).observe(document,{childList:!0,subtree:!0});function l(g){const L={};return g.integrity&&(L.integrity=g.integrity),g.referrerPolicy&&(L.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?L.credentials="include":g.crossOrigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function u(g){if(g.ep)return;g.ep=!0;const L=l(g);fetch(g.href,L)}})();function jt(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Ke={exports:{}},wt;function Zt(){return wt||(wt=1,function(f){function i(t){this.mode=u.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var n=0,a=this.data.length;n<a;n++){var r=[],o=this.data.charCodeAt(n);o>65536?(r[0]=240|(o&1835008)>>>18,r[1]=128|(o&258048)>>>12,r[2]=128|(o&4032)>>>6,r[3]=128|o&63):o>2048?(r[0]=224|(o&61440)>>>12,r[1]=128|(o&4032)>>>6,r[2]=128|o&63):o>128?(r[0]=192|(o&1984)>>>6,r[1]=128|o&63):r[0]=o,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}i.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var n=0,a=this.parsedData.length;n<a;n++)t.put(this.parsedData[n],8)}};function l(t,n){this.typeNumber=t,this.errorCorrectLevel=n,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}l.prototype={addData:function(t){var n=new i(t);this.dataList.push(n),this.dataCache=null},isDark:function(t,n){if(t<0||this.moduleCount<=t||n<0||this.moduleCount<=n)throw new Error(t+","+n);return this.modules[t][n]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,n){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[a][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(t,n){for(var a=-1;a<=7;a++)if(!(t+a<=-1||this.moduleCount<=t+a))for(var r=-1;r<=7;r++)n+r<=-1||this.moduleCount<=n+r||(0<=a&&a<=6&&(r==0||r==6)||0<=r&&r<=6&&(a==0||a==6)||2<=a&&a<=4&&2<=r&&r<=4?this.modules[t+a][n+r]=!0:this.modules[t+a][n+r]=!1)},getBestMaskPattern:function(){for(var t=0,n=0,a=0;a<8;a++){this.makeImpl(!0,a);var r=T.getLostPoint(this);(a==0||t>r)&&(t=r,n=a)}return n},createMovieClip:function(t,n,a){var r=t.createEmptyMovieClip(n,a),o=1;this.make();for(var c=0;c<this.modules.length;c++)for(var d=c*o,h=0;h<this.modules[c].length;h++){var E=h*o,w=this.modules[c][h];w&&(r.beginFill(0,100),r.moveTo(E,d),r.lineTo(E+o,d),r.lineTo(E+o,d+o),r.lineTo(E,d+o),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var n=8;n<this.moduleCount-8;n++)this.modules[6][n]==null&&(this.modules[6][n]=n%2==0)},setupPositionAdjustPattern:function(){for(var t=T.getPatternPosition(this.typeNumber),n=0;n<t.length;n++)for(var a=0;a<t.length;a++){var r=t[n],o=t[a];if(this.modules[r][o]==null)for(var c=-2;c<=2;c++)for(var d=-2;d<=2;d++)c==-2||c==2||d==-2||d==2||c==0&&d==0?this.modules[r+c][o+d]=!0:this.modules[r+c][o+d]=!1}},setupTypeNumber:function(t){for(var n=T.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var r=!t&&(n>>a&1)==1;this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=r}for(var a=0;a<18;a++){var r=!t&&(n>>a&1)==1;this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=r}},setupTypeInfo:function(t,n){for(var a=this.errorCorrectLevel<<3|n,r=T.getBCHTypeInfo(a),o=0;o<15;o++){var c=!t&&(r>>o&1)==1;o<6?this.modules[o][8]=c:o<8?this.modules[o+1][8]=c:this.modules[this.moduleCount-15+o][8]=c}for(var o=0;o<15;o++){var c=!t&&(r>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=c:o<9?this.modules[8][15-o-1+1]=c:this.modules[8][15-o-1]=c}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,n){for(var a=-1,r=this.moduleCount-1,o=7,c=0,d=this.moduleCount-1;d>0;d-=2)for(d==6&&d--;;){for(var h=0;h<2;h++)if(this.modules[r][d-h]==null){var E=!1;c<t.length&&(E=(t[c]>>>o&1)==1);var w=T.getMask(n,r,d-h);w&&(E=!E),this.modules[r][d-h]=E,o--,o==-1&&(c++,o=7)}if(r+=a,r<0||this.moduleCount<=r){r-=a,a=-a;break}}}},l.PAD0=236,l.PAD1=17,l.createData=function(t,n,a){for(var r=z.getRSBlocks(t,n),o=new we,c=0;c<a.length;c++){var d=a[c];o.put(d.mode,4),o.put(d.getLength(),T.getLengthInBits(d.mode,t)),d.write(o)}for(var h=0,c=0;c<r.length;c++)h+=r[c].dataCount;if(o.getLengthInBits()>h*8)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+h*8+")");for(o.getLengthInBits()+4<=h*8&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=h*8||(o.put(l.PAD0,8),o.getLengthInBits()>=h*8));)o.put(l.PAD1,8);return l.createBytes(o,r)},l.createBytes=function(t,n){for(var a=0,r=0,o=0,c=new Array(n.length),d=new Array(n.length),h=0;h<n.length;h++){var E=n[h].dataCount,w=n[h].totalCount-E;r=Math.max(r,E),o=Math.max(o,w),c[h]=new Array(E);for(var _=0;_<c[h].length;_++)c[h][_]=255&t.buffer[_+a];a+=E;var H=T.getErrorCorrectPolynomial(w),W=new G(c[h],H.getLength()-1),S=W.mod(H);d[h]=new Array(H.getLength()-1);for(var _=0;_<d[h].length;_++){var X=_+S.getLength()-d[h].length;d[h][_]=X>=0?S.get(X):0}}for(var N=0,_=0;_<n.length;_++)N+=n[_].totalCount;for(var Q=new Array(N),Y=0,_=0;_<r;_++)for(var h=0;h<n.length;h++)_<c[h].length&&(Q[Y++]=c[h][_]);for(var _=0;_<o;_++)for(var h=0;h<n.length;h++)_<d[h].length&&(Q[Y++]=d[h][_]);return Q};for(var u={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},g={L:1,M:0,Q:3,H:2},L={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},T={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var n=t<<10;T.getBCHDigit(n)-T.getBCHDigit(T.G15)>=0;)n^=T.G15<<T.getBCHDigit(n)-T.getBCHDigit(T.G15);return(t<<10|n)^T.G15_MASK},getBCHTypeNumber:function(t){for(var n=t<<12;T.getBCHDigit(n)-T.getBCHDigit(T.G18)>=0;)n^=T.G18<<T.getBCHDigit(n)-T.getBCHDigit(T.G18);return t<<12|n},getBCHDigit:function(t){for(var n=0;t!=0;)n++,t>>>=1;return n},getPatternPosition:function(t){return T.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,n,a){switch(t){case L.PATTERN000:return(n+a)%2==0;case L.PATTERN001:return n%2==0;case L.PATTERN010:return a%3==0;case L.PATTERN011:return(n+a)%3==0;case L.PATTERN100:return(Math.floor(n/2)+Math.floor(a/3))%2==0;case L.PATTERN101:return n*a%2+n*a%3==0;case L.PATTERN110:return(n*a%2+n*a%3)%2==0;case L.PATTERN111:return(n*a%3+(n+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var n=new G([1],0),a=0;a<t;a++)n=n.multiply(new G([1,C.gexp(a)],0));return n},getLengthInBits:function(t,n){if(1<=n&&n<10)switch(t){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:return 8;case u.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(n<27)switch(t){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(n<41)switch(t){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+n)},getLostPoint:function(t){for(var n=t.getModuleCount(),a=0,r=0;r<n;r++)for(var o=0;o<n;o++){for(var c=0,d=t.isDark(r,o),h=-1;h<=1;h++)if(!(r+h<0||n<=r+h))for(var E=-1;E<=1;E++)o+E<0||n<=o+E||h==0&&E==0||d==t.isDark(r+h,o+E)&&c++;c>5&&(a+=3+c-5)}for(var r=0;r<n-1;r++)for(var o=0;o<n-1;o++){var w=0;t.isDark(r,o)&&w++,t.isDark(r+1,o)&&w++,t.isDark(r,o+1)&&w++,t.isDark(r+1,o+1)&&w++,(w==0||w==4)&&(a+=3)}for(var r=0;r<n;r++)for(var o=0;o<n-6;o++)t.isDark(r,o)&&!t.isDark(r,o+1)&&t.isDark(r,o+2)&&t.isDark(r,o+3)&&t.isDark(r,o+4)&&!t.isDark(r,o+5)&&t.isDark(r,o+6)&&(a+=40);for(var o=0;o<n;o++)for(var r=0;r<n-6;r++)t.isDark(r,o)&&!t.isDark(r+1,o)&&t.isDark(r+2,o)&&t.isDark(r+3,o)&&t.isDark(r+4,o)&&!t.isDark(r+5,o)&&t.isDark(r+6,o)&&(a+=40);for(var _=0,o=0;o<n;o++)for(var r=0;r<n;r++)t.isDark(r,o)&&_++;var H=Math.abs(100*_/n/n-50)/5;return a+=H*10,a}},C={glog:function(t){if(t<1)throw new Error("glog("+t+")");return C.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return C.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)C.EXP_TABLE[b]=1<<b;for(var b=8;b<256;b++)C.EXP_TABLE[b]=C.EXP_TABLE[b-4]^C.EXP_TABLE[b-5]^C.EXP_TABLE[b-6]^C.EXP_TABLE[b-8];for(var b=0;b<255;b++)C.LOG_TABLE[C.EXP_TABLE[b]]=b;function G(t,n){if(t.length==null)throw new Error(t.length+"/"+n);for(var a=0;a<t.length&&t[a]==0;)a++;this.num=new Array(t.length-a+n);for(var r=0;r<t.length-a;r++)this.num[r]=t[r+a]}G.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var n=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var r=0;r<t.getLength();r++)n[a+r]^=C.gexp(C.glog(this.get(a))+C.glog(t.get(r)));return new G(n,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var n=C.glog(this.get(0))-C.glog(t.get(0)),a=new Array(this.getLength()),r=0;r<this.getLength();r++)a[r]=this.get(r);for(var r=0;r<t.getLength();r++)a[r]^=C.gexp(C.glog(t.get(r))+n);return new G(a,0).mod(t)}};function z(t,n){this.totalCount=t,this.dataCount=n}z.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],z.getRSBlocks=function(t,n){var a=z.getRsBlockTable(t,n);if(a==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var r=a.length/3,o=[],c=0;c<r;c++)for(var d=a[c*3+0],h=a[c*3+1],E=a[c*3+2],w=0;w<d;w++)o.push(new z(h,E));return o},z.getRsBlockTable=function(t,n){switch(n){case g.L:return z.RS_BLOCK_TABLE[(t-1)*4+0];case g.M:return z.RS_BLOCK_TABLE[(t-1)*4+1];case g.Q:return z.RS_BLOCK_TABLE[(t-1)*4+2];case g.H:return z.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function we(){this.buffer=[],this.length=0}we.prototype={get:function(t){var n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)==1},put:function(t,n){for(var a=0;a<n;a++)this.putBit((t>>>n-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}};var de=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function te(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},typeof t=="string"&&(t={content:t}),t)for(var n in t)this.options[n]=t[n];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function a(E){switch(E){case"L":return g.L;case"M":return g.M;case"Q":return g.Q;case"H":return g.H;default:throw new Error("Unknwon error correction level: "+E)}}function r(E,w){for(var _=o(E),H=1,W=0,S=0,X=de.length;S<=X;S++){var N=de[S];if(!N)throw new Error("Content too long: expected "+W+" but got "+_);switch(w){case"L":W=N[0];break;case"M":W=N[1];break;case"Q":W=N[2];break;case"H":W=N[3];break;default:throw new Error("Unknwon error correction level: "+w)}if(_<=W)break;H++}if(H>de.length)throw new Error("Content too long");return H}function o(E){var w=encodeURI(E).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return w.length+(w.length!=E?3:0)}var c=this.options.content,d=r(c,this.options.ecl),h=a(this.options.ecl);this.qrcode=new l(d,h),this.qrcode.addData(c),this.qrcode.make()}te.prototype.svg=function(t){var n=this.options||{},a=this.qrcode.modules;typeof t>"u"&&(t={container:n.container||"svg"});for(var r=typeof n.pretty<"u"?!!n.pretty:!0,o=r?"  ":"",c=r?`\r
`:"",d=n.width,h=n.height,E=a.length,w=d/(E+2*n.padding),_=h/(E+2*n.padding),H=typeof n.join<"u"?!!n.join:!1,W=typeof n.swap<"u"?!!n.swap:!1,S=typeof n.xmlDeclaration<"u"?!!n.xmlDeclaration:!0,X=typeof n.predefined<"u"?!!n.predefined:!1,N=X?o+'<defs><path id="qrmodule" d="M0 0 h'+_+" v"+w+' H0 z" style="fill:'+n.color+';shape-rendering:crispEdges;" /></defs>'+c:"",Q=o+'<rect x="0" y="0" width="'+d+'" height="'+h+'" style="fill:'+n.background+';shape-rendering:crispEdges;"/>'+c,Y="",Re="",oe=0;oe<E;oe++)for(var re=0;re<E;re++){var ke=a[re][oe];if(ke){var B=re*w+n.padding*w,R=oe*_+n.padding*_;if(W){var Se=B;B=R,R=Se}if(H){var D=w+B,ne=_+R;B=Number.isInteger(B)?Number(B):B.toFixed(2),R=Number.isInteger(R)?Number(R):R.toFixed(2),D=Number.isInteger(D)?Number(D):D.toFixed(2),ne=Number.isInteger(ne)?Number(ne):ne.toFixed(2),Re+="M"+B+","+R+" V"+ne+" H"+D+" V"+R+" H"+B+" Z "}else X?Y+=o+'<use x="'+B.toString()+'" y="'+R.toString()+'" href="#qrmodule" />'+c:Y+=o+'<rect x="'+B.toString()+'" y="'+R.toString()+'" width="'+w+'" height="'+_+'" style="fill:'+n.color+';shape-rendering:crispEdges;"/>'+c}}H&&(Y=o+'<path x="0" y="0" style="fill:'+n.color+';shape-rendering:crispEdges;" d="'+Re+'" />');var A="";switch(t.container){case"svg":S&&(A+='<?xml version="1.0" standalone="yes"?>'+c),A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+d+'" height="'+h+'">'+c,A+=N+Q+Y,A+="</svg>";break;case"svg-viewbox":S&&(A+='<?xml version="1.0" standalone="yes"?>'+c),A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+d+" "+h+'">'+c,A+=N+Q+Y,A+="</svg>";break;case"g":A+='<g width="'+d+'" height="'+h+'">'+c,A+=N+Q+Y,A+="</g>";break;default:A+=(N+Q+Y).replace(/^\s+/,"");break}return A},te.prototype.save=function(t,n){var a=this.svg();typeof n!="function"&&(n=function(o,c){});try{var r=require("fs");r.writeFile(t,a,n)}catch(o){n(o)}},f.exports=te}(Ke)),Ke.exports}var Jt=Zt();const en=jt(Jt);class tn{async generateSVG(i){try{return new en({content:i,container:"svg-viewbox",join:!0}).svg()}catch(l){throw new Error(`Failed to generate QR code: ${l instanceof Error?l.message:"Unknown error"}`)}}}class Pt{static sanitize(i,l){const u={...this.DEFAULT_OPTIONS,...l};let g=i.replace(u.allowedCharacters,"_");g=g.substring(0,u.maxLength);const L=/^_*$/.test(g);return!g||L?u.defaultName:g}static generateQRCodeFilename(i){return`qr_code_${this.sanitize(i)}.svg`}}q(Pt,"DEFAULT_OPTIONS",{maxLength:50,defaultName:"download",allowedCharacters:/[^a-zA-Z0-9.-]/g});/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:xt,setPrototypeOf:Rt,isFrozen:nn,getPrototypeOf:rn,getOwnPropertyDescriptor:on}=Object;let{freeze:k,seal:V,create:kt}=Object,{apply:et,construct:tt}=typeof Reflect<"u"&&Reflect;k||(k=function(i){return i});V||(V=function(i){return i});et||(et=function(i,l,u){return i.apply(l,u)});tt||(tt=function(i,l){return new i(...l)});const Ie=U(Array.prototype.forEach),an=U(Array.prototype.lastIndexOf),St=U(Array.prototype.pop),Te=U(Array.prototype.push),sn=U(Array.prototype.splice),xe=U(String.prototype.toLowerCase),$e=U(String.prototype.toString),Ct=U(String.prototype.match),_e=U(String.prototype.replace),ln=U(String.prototype.indexOf),un=U(String.prototype.trim),K=U(Object.prototype.hasOwnProperty),x=U(RegExp.prototype.test),ve=cn(TypeError);function U(f){return function(i){i instanceof RegExp&&(i.lastIndex=0);for(var l=arguments.length,u=new Array(l>1?l-1:0),g=1;g<l;g++)u[g-1]=arguments[g];return et(f,i,u)}}function cn(f){return function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return tt(f,l)}}function v(f,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe;Rt&&Rt(f,null);let u=i.length;for(;u--;){let g=i[u];if(typeof g=="string"){const L=l(g);L!==g&&(nn(i)||(i[u]=L),g=L)}f[g]=!0}return f}function fn(f){for(let i=0;i<f.length;i++)K(f,i)||(f[i]=null);return f}function ee(f){const i=kt(null);for(const[l,u]of xt(f))K(f,l)&&(Array.isArray(u)?i[l]=fn(u):u&&typeof u=="object"&&u.constructor===Object?i[l]=ee(u):i[l]=u);return i}function Ae(f,i){for(;f!==null;){const u=on(f,i);if(u){if(u.get)return U(u.get);if(typeof u.value=="function")return U(u.value)}f=rn(f)}function l(){return null}return l}const yt=k(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qe=k(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),je=k(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hn=k(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ze=k(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dn=k(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Dt=k(["#text"]),bt=k(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Je=k(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mt=k(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pe=k(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mn=V(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pn=V(/<%[\w\W]*|[\w\W]*%>/gm),gn=V(/\$\{[\w\W]*/gm),En=V(/^data-[\-\w.\u00B7-\uFFFF]+$/),Tn=V(/^aria-[\-\w]+$/),Ut=V(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_n=V(/^(?:\w+script|data):/i),vn=V(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ht=V(/^html$/i),An=V(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ot=Object.freeze({__proto__:null,ARIA_ATTR:Tn,ATTR_WHITESPACE:vn,CUSTOM_ELEMENT:An,DATA_ATTR:En,DOCTYPE_NAME:Ht,ERB_EXPR:pn,IS_ALLOWED_URI:Ut,IS_SCRIPT_OR_DATA:_n,MUSTACHE_EXPR:mn,TMPLIT_EXPR:gn});const Le={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ln=function(){return typeof window>"u"?null:window},wn=function(i,l){if(typeof i!="object"||typeof i.createPolicy!="function")return null;let u=null;const g="data-tt-policy-suffix";l&&l.hasAttribute(g)&&(u=l.getAttribute(g));const L="dompurify"+(u?"#"+u:"");try{return i.createPolicy(L,{createHTML(T){return T},createScriptURL(T){return T}})}catch{return console.warn("TrustedTypes policy "+L+" could not be created."),null}},Nt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Bt(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ln();const i=p=>Bt(p);if(i.version="3.2.6",i.removed=[],!f||!f.document||f.document.nodeType!==Le.document||!f.Element)return i.isSupported=!1,i;let{document:l}=f;const u=l,g=u.currentScript,{DocumentFragment:L,HTMLTemplateElement:T,Node:C,Element:b,NodeFilter:G,NamedNodeMap:z=f.NamedNodeMap||f.MozNamedAttrMap,HTMLFormElement:we,DOMParser:de,trustedTypes:te}=f,t=b.prototype,n=Ae(t,"cloneNode"),a=Ae(t,"remove"),r=Ae(t,"nextSibling"),o=Ae(t,"childNodes"),c=Ae(t,"parentNode");if(typeof T=="function"){const p=l.createElement("template");p.content&&p.content.ownerDocument&&(l=p.content.ownerDocument)}let d,h="";const{implementation:E,createNodeIterator:w,createDocumentFragment:_,getElementsByTagName:H}=l,{importNode:W}=u;let S=Nt();i.isSupported=typeof xt=="function"&&typeof c=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:X,ERB_EXPR:N,TMPLIT_EXPR:Q,DATA_ATTR:Y,ARIA_ATTR:Re,IS_SCRIPT_OR_DATA:oe,ATTR_WHITESPACE:re,CUSTOM_ELEMENT:ke}=Ot;let{IS_ALLOWED_URI:B}=Ot,R=null;const Se=v({},[...yt,...qe,...je,...Ze,...Dt]);let D=null;const ne=v({},[...bt,...Je,...Mt,...Pe]);let A=Object.seal(kt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),me=null,Ue=null,nt=!0,He=!0,rt=!1,it=!0,ae=!1,Ce=!0,ie=!1,Be=!1,Fe=!1,se=!1,ye=!1,De=!1,ot=!0,at=!1;const Gt="user-content-";let Ge=!0,pe=!1,le={},ue=null;const st=v({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lt=null;const ut=v({},["audio","video","img","source","image","track"]);let ze=null;const ct=v({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",Me="http://www.w3.org/2000/svg",j="http://www.w3.org/1999/xhtml";let ce=j,We=!1,Qe=null;const zt=v({},[be,Me,j],$e);let Oe=v({},["mi","mo","mn","ms","mtext"]),Ne=v({},["annotation-xml"]);const Wt=v({},["title","style","font","a","script"]);let ge=null;const Qt=["application/xhtml+xml","text/html"],Yt="text/html";let O=null,fe=null;const Vt=l.createElement("form"),ft=function(e){return e instanceof RegExp||e instanceof Function},Ye=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(fe&&fe===e)){if((!e||typeof e!="object")&&(e={}),e=ee(e),ge=Qt.indexOf(e.PARSER_MEDIA_TYPE)===-1?Yt:e.PARSER_MEDIA_TYPE,O=ge==="application/xhtml+xml"?$e:xe,R=K(e,"ALLOWED_TAGS")?v({},e.ALLOWED_TAGS,O):Se,D=K(e,"ALLOWED_ATTR")?v({},e.ALLOWED_ATTR,O):ne,Qe=K(e,"ALLOWED_NAMESPACES")?v({},e.ALLOWED_NAMESPACES,$e):zt,ze=K(e,"ADD_URI_SAFE_ATTR")?v(ee(ct),e.ADD_URI_SAFE_ATTR,O):ct,lt=K(e,"ADD_DATA_URI_TAGS")?v(ee(ut),e.ADD_DATA_URI_TAGS,O):ut,ue=K(e,"FORBID_CONTENTS")?v({},e.FORBID_CONTENTS,O):st,me=K(e,"FORBID_TAGS")?v({},e.FORBID_TAGS,O):ee({}),Ue=K(e,"FORBID_ATTR")?v({},e.FORBID_ATTR,O):ee({}),le=K(e,"USE_PROFILES")?e.USE_PROFILES:!1,nt=e.ALLOW_ARIA_ATTR!==!1,He=e.ALLOW_DATA_ATTR!==!1,rt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,it=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ae=e.SAFE_FOR_TEMPLATES||!1,Ce=e.SAFE_FOR_XML!==!1,ie=e.WHOLE_DOCUMENT||!1,se=e.RETURN_DOM||!1,ye=e.RETURN_DOM_FRAGMENT||!1,De=e.RETURN_TRUSTED_TYPE||!1,Fe=e.FORCE_BODY||!1,ot=e.SANITIZE_DOM!==!1,at=e.SANITIZE_NAMED_PROPS||!1,Ge=e.KEEP_CONTENT!==!1,pe=e.IN_PLACE||!1,B=e.ALLOWED_URI_REGEXP||Ut,ce=e.NAMESPACE||j,Oe=e.MATHML_TEXT_INTEGRATION_POINTS||Oe,Ne=e.HTML_INTEGRATION_POINTS||Ne,A=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(A.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(A.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(A.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ae&&(He=!1),ye&&(se=!0),le&&(R=v({},Dt),D=[],le.html===!0&&(v(R,yt),v(D,bt)),le.svg===!0&&(v(R,qe),v(D,Je),v(D,Pe)),le.svgFilters===!0&&(v(R,je),v(D,Je),v(D,Pe)),le.mathMl===!0&&(v(R,Ze),v(D,Mt),v(D,Pe))),e.ADD_TAGS&&(R===Se&&(R=ee(R)),v(R,e.ADD_TAGS,O)),e.ADD_ATTR&&(D===ne&&(D=ee(D)),v(D,e.ADD_ATTR,O)),e.ADD_URI_SAFE_ATTR&&v(ze,e.ADD_URI_SAFE_ATTR,O),e.FORBID_CONTENTS&&(ue===st&&(ue=ee(ue)),v(ue,e.FORBID_CONTENTS,O)),Ge&&(R["#text"]=!0),ie&&v(R,["html","head","body"]),R.table&&(v(R,["tbody"]),delete me.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');d=e.TRUSTED_TYPES_POLICY,h=d.createHTML("")}else d===void 0&&(d=wn(te,g)),d!==null&&typeof h=="string"&&(h=d.createHTML(""));k&&k(e),fe=e}},ht=v({},[...qe,...je,...hn]),dt=v({},[...Ze,...dn]),Xt=function(e){let s=c(e);(!s||!s.tagName)&&(s={namespaceURI:ce,tagName:"template"});const m=xe(e.tagName),y=xe(s.tagName);return Qe[e.namespaceURI]?e.namespaceURI===Me?s.namespaceURI===j?m==="svg":s.namespaceURI===be?m==="svg"&&(y==="annotation-xml"||Oe[y]):!!ht[m]:e.namespaceURI===be?s.namespaceURI===j?m==="math":s.namespaceURI===Me?m==="math"&&Ne[y]:!!dt[m]:e.namespaceURI===j?s.namespaceURI===Me&&!Ne[y]||s.namespaceURI===be&&!Oe[y]?!1:!dt[m]&&(Wt[m]||!ht[m]):!!(ge==="application/xhtml+xml"&&Qe[e.namespaceURI]):!1},$=function(e){Te(i.removed,{element:e});try{c(e).removeChild(e)}catch{a(e)}},he=function(e,s){try{Te(i.removed,{attribute:s.getAttributeNode(e),from:s})}catch{Te(i.removed,{attribute:null,from:s})}if(s.removeAttribute(e),e==="is")if(se||ye)try{$(s)}catch{}else try{s.setAttribute(e,"")}catch{}},mt=function(e){let s=null,m=null;if(Fe)e="<remove></remove>"+e;else{const M=Ct(e,/^[\r\n\t ]+/);m=M&&M[0]}ge==="application/xhtml+xml"&&ce===j&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const y=d?d.createHTML(e):e;if(ce===j)try{s=new de().parseFromString(y,ge)}catch{}if(!s||!s.documentElement){s=E.createDocument(ce,"template",null);try{s.documentElement.innerHTML=We?h:y}catch{}}const I=s.body||s.documentElement;return e&&m&&I.insertBefore(l.createTextNode(m),I.childNodes[0]||null),ce===j?H.call(s,ie?"html":"body")[0]:ie?s.documentElement:I},pt=function(e){return w.call(e.ownerDocument||e,e,G.SHOW_ELEMENT|G.SHOW_COMMENT|G.SHOW_TEXT|G.SHOW_PROCESSING_INSTRUCTION|G.SHOW_CDATA_SECTION,null)},Ve=function(e){return e instanceof we&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof z)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},gt=function(e){return typeof C=="function"&&e instanceof C};function Z(p,e,s){Ie(p,m=>{m.call(i,e,s,fe)})}const Et=function(e){let s=null;if(Z(S.beforeSanitizeElements,e,null),Ve(e))return $(e),!0;const m=O(e.nodeName);if(Z(S.uponSanitizeElement,e,{tagName:m,allowedTags:R}),Ce&&e.hasChildNodes()&&!gt(e.firstElementChild)&&x(/<[/\w!]/g,e.innerHTML)&&x(/<[/\w!]/g,e.textContent)||e.nodeType===Le.progressingInstruction||Ce&&e.nodeType===Le.comment&&x(/<[/\w]/g,e.data))return $(e),!0;if(!R[m]||me[m]){if(!me[m]&&_t(m)&&(A.tagNameCheck instanceof RegExp&&x(A.tagNameCheck,m)||A.tagNameCheck instanceof Function&&A.tagNameCheck(m)))return!1;if(Ge&&!ue[m]){const y=c(e)||e.parentNode,I=o(e)||e.childNodes;if(I&&y){const M=I.length;for(let F=M-1;F>=0;--F){const J=n(I[F],!0);J.__removalCount=(e.__removalCount||0)+1,y.insertBefore(J,r(e))}}}return $(e),!0}return e instanceof b&&!Xt(e)||(m==="noscript"||m==="noembed"||m==="noframes")&&x(/<\/no(script|embed|frames)/i,e.innerHTML)?($(e),!0):(ae&&e.nodeType===Le.text&&(s=e.textContent,Ie([X,N,Q],y=>{s=_e(s,y," ")}),e.textContent!==s&&(Te(i.removed,{element:e.cloneNode()}),e.textContent=s)),Z(S.afterSanitizeElements,e,null),!1)},Tt=function(e,s,m){if(ot&&(s==="id"||s==="name")&&(m in l||m in Vt))return!1;if(!(He&&!Ue[s]&&x(Y,s))){if(!(nt&&x(Re,s))){if(!D[s]||Ue[s]){if(!(_t(e)&&(A.tagNameCheck instanceof RegExp&&x(A.tagNameCheck,e)||A.tagNameCheck instanceof Function&&A.tagNameCheck(e))&&(A.attributeNameCheck instanceof RegExp&&x(A.attributeNameCheck,s)||A.attributeNameCheck instanceof Function&&A.attributeNameCheck(s))||s==="is"&&A.allowCustomizedBuiltInElements&&(A.tagNameCheck instanceof RegExp&&x(A.tagNameCheck,m)||A.tagNameCheck instanceof Function&&A.tagNameCheck(m))))return!1}else if(!ze[s]){if(!x(B,_e(m,re,""))){if(!((s==="src"||s==="xlink:href"||s==="href")&&e!=="script"&&ln(m,"data:")===0&&lt[e])){if(!(rt&&!x(oe,_e(m,re,"")))){if(m)return!1}}}}}}return!0},_t=function(e){return e!=="annotation-xml"&&Ct(e,ke)},vt=function(e){Z(S.beforeSanitizeAttributes,e,null);const{attributes:s}=e;if(!s||Ve(e))return;const m={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let y=s.length;for(;y--;){const I=s[y],{name:M,namespaceURI:F,value:J}=I,Ee=O(M),Xe=J;let P=M==="value"?Xe:un(Xe);if(m.attrName=Ee,m.attrValue=P,m.keepAttr=!0,m.forceKeepAttr=void 0,Z(S.uponSanitizeAttribute,e,m),P=m.attrValue,at&&(Ee==="id"||Ee==="name")&&(he(M,e),P=Gt+P),Ce&&x(/((--!?|])>)|<\/(style|title)/i,P)){he(M,e);continue}if(m.forceKeepAttr)continue;if(!m.keepAttr){he(M,e);continue}if(!it&&x(/\/>/i,P)){he(M,e);continue}ae&&Ie([X,N,Q],Lt=>{P=_e(P,Lt," ")});const At=O(e.nodeName);if(!Tt(At,Ee,P)){he(M,e);continue}if(d&&typeof te=="object"&&typeof te.getAttributeType=="function"&&!F)switch(te.getAttributeType(At,Ee)){case"TrustedHTML":{P=d.createHTML(P);break}case"TrustedScriptURL":{P=d.createScriptURL(P);break}}if(P!==Xe)try{F?e.setAttributeNS(F,M,P):e.setAttribute(M,P),Ve(e)?$(e):St(i.removed)}catch{he(M,e)}}Z(S.afterSanitizeAttributes,e,null)},Kt=function p(e){let s=null;const m=pt(e);for(Z(S.beforeSanitizeShadowDOM,e,null);s=m.nextNode();)Z(S.uponSanitizeShadowNode,s,null),Et(s),vt(s),s.content instanceof L&&p(s.content);Z(S.afterSanitizeShadowDOM,e,null)};return i.sanitize=function(p){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=null,m=null,y=null,I=null;if(We=!p,We&&(p="<!-->"),typeof p!="string"&&!gt(p))if(typeof p.toString=="function"){if(p=p.toString(),typeof p!="string")throw ve("dirty is not a string, aborting")}else throw ve("toString is not a function");if(!i.isSupported)return p;if(Be||Ye(e),i.removed=[],typeof p=="string"&&(pe=!1),pe){if(p.nodeName){const J=O(p.nodeName);if(!R[J]||me[J])throw ve("root node is forbidden and cannot be sanitized in-place")}}else if(p instanceof C)s=mt("<!---->"),m=s.ownerDocument.importNode(p,!0),m.nodeType===Le.element&&m.nodeName==="BODY"||m.nodeName==="HTML"?s=m:s.appendChild(m);else{if(!se&&!ae&&!ie&&p.indexOf("<")===-1)return d&&De?d.createHTML(p):p;if(s=mt(p),!s)return se?null:De?h:""}s&&Fe&&$(s.firstChild);const M=pt(pe?p:s);for(;y=M.nextNode();)Et(y),vt(y),y.content instanceof L&&Kt(y.content);if(pe)return p;if(se){if(ye)for(I=_.call(s.ownerDocument);s.firstChild;)I.appendChild(s.firstChild);else I=s;return(D.shadowroot||D.shadowrootmode)&&(I=W.call(u,I,!0)),I}let F=ie?s.outerHTML:s.innerHTML;return ie&&R["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&x(Ht,s.ownerDocument.doctype.name)&&(F="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+F),ae&&Ie([X,N,Q],J=>{F=_e(F,J," ")}),d&&De?d.createHTML(F):F},i.setConfig=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ye(p),Be=!0},i.clearConfig=function(){fe=null,Be=!1},i.isValidAttribute=function(p,e,s){fe||Ye({});const m=O(p),y=O(e);return Tt(m,y,s)},i.addHook=function(p,e){typeof e=="function"&&Te(S[p],e)},i.removeHook=function(p,e){if(e!==void 0){const s=an(S[p],e);return s===-1?void 0:sn(S[p],s,1)[0]}return St(S[p])},i.removeHooks=function(p){S[p]=[]},i.removeAllHooks=function(){S=Nt()},i}var Ft=Bt();function Rn(f){return Ft.sanitize(f,{USE_PROFILES:{svg:!0,svgFilters:!0}})}function Sn(f){return Ft.sanitize(f,{USE_PROFILES:{svg:!0,svgFilters:!0},FORBID_ATTR:["style"]})}class Cn{constructor(i){q(this,"elements");q(this,"qrGenerator");q(this,"urlHashManager");q(this,"unstyledSVGContent",null);q(this,"styledSVGContent",null);q(this,"abortController",null);this.qrGenerator=i.qrGenerator,this.urlHashManager=i.urlHashManager;const l=document.querySelector(i.containerSelector),u=document.querySelector(i.inputSelector);if(!l||!u)throw new Error("Required DOM elements not found");this.elements={container:l,input:u}}async initialize(){try{this.initializeHash(),this.elements.input.value=this.getCurrentText(),await this.updateQRCode(),this.setupEventListeners()}catch(i){this.handleError(i)}}initializeHash(){if(!this.urlHashManager.getHash()){const l=this.urlHashManager.getBaseURL();this.urlHashManager.setHash(l)}}getCurrentText(){return this.urlHashManager.getHash()||this.urlHashManager.getBaseURL()}setupEventListeners(){this.abortController&&this.abortController.abort(),this.abortController=new AbortController;const{signal:i}=this.abortController;this.elements.input.addEventListener("input",this.handleInputChange.bind(this),{signal:i}),window.addEventListener("hashchange",this.handleHashChange.bind(this),{signal:i})}async handleInputChange(i){const u=i.target.value.trim();try{u===""?this.urlHashManager.removeHash():this.urlHashManager.setHash(u),await this.updateQRCode()}catch(g){this.handleError(g)}}async handleHashChange(){try{this.elements.input.value=this.getCurrentText(),await this.updateQRCode()}catch(i){this.handleError(i)}}async updateQRCode(){const i=this.getCurrentText();try{const l=await this.qrGenerator.generateSVG(i);this.styledSVGContent=Rn(l),this.unstyledSVGContent=Sn(this.styledSVGContent),this.renderQRCode()}catch(l){throw new Error(`Failed to generate QR code: ${l instanceof Error?l.message:"Unknown error"}`)}}renderQRCode(){if(!this.unstyledSVGContent||!this.styledSVGContent)return;this.elements.container.innerHTML="";const i=document.createElement("a"),l=this.getCurrentText();i.download=Pt.generateQRCodeFilename(l),i.title="Click to download",i.setAttribute("aria-label",`Download QR code for: ${l}`);const u=new Blob([this.styledSVGContent],{type:"image/svg+xml"});i.href=URL.createObjectURL(u);const T=new DOMParser().parseFromString(this.unstyledSVGContent,"image/svg+xml").documentElement,C=`QR code for: ${l}`;T.setAttribute("aria-label",C),T.setAttribute("role","img"),i.appendChild(T),this.elements.container.appendChild(i)}handleError(i){console.error("QR Code Controller Error:",i);const l=i instanceof Error?i.message:"An unknown error occurred";this.elements.container.innerHTML="";const u=document.createElement("div");u.className="error-message";const g=document.createTextNode(`Error: ${l}. Please refresh the page and try again.`);u.appendChild(g),this.elements.container.appendChild(u)}destroy(){this.abortController&&(this.abortController.abort(),this.abortController=null)}}class yn{constructor(i=globalThis.window,l=globalThis.history){q(this,"window");q(this,"history");this.window=i,this.history=l}getHash(){const i=this.window.location.hash;return i?decodeURIComponent(i.slice(1)):""}setHash(i){i?this.window.location.hash=encodeURIComponent(i):this.removeHash()}removeHash(){const{pathname:i,search:l}=this.window.location;this.history.pushState("",document.title,i+l)}getCurrentURL(){return this.window.location.href}getBaseURL(){return this.getCurrentURL().split("#")[0]}}async function It(){try{const f=new tn,i=new yn,l=new Cn({containerSelector:"#qr-code",inputSelector:"#input-text",qrGenerator:f,urlHashManager:i});await l.initialize();const u=document.querySelector("form");u&&u.addEventListener("submit",g=>{g.preventDefault()}),window.addEventListener("beforeunload",()=>{l.destroy()})}catch(f){console.error("Failed to initialize QR Code application:",f);const i=document.querySelector("#qr-code");i&&(i.innerHTML=`
        <div class="error-message">
          <p>Failed to initialize the application.</p>
          <p>Please refresh the page and try again.</p>
        </div>
      `)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",It):It();
